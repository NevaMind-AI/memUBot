{"id":"deploy-precise-l2","platform":"telegram","chatId":null,"query":"What is the exact error line in deploy.ts and what rollback command did we use?","messages":[{"role":"user","content":"Canary deployment failed after the second traffic shift."},{"role":"assistant","content":"I logged the incident and started collecting stack traces."},{"role":"user","content":"The alert says health checks failed in the canary pod."},{"role":"assistant","content":"I confirmed repeated probe failures during canary health checks."},{"role":"user","content":"Did we capture the exact code location?"},{"role":"assistant","content":"Yes, the traceback points to line 42 in deploy.ts inside validateReleaseGate()."},{"role":"user","content":"What did we run as emergency mitigation?"},{"role":"assistant","content":"We executed rollback command ./scripts/rollback.sh --env prod --slot canary."},{"role":"user","content":"Please include notes for postmortem."},{"role":"assistant","content":"Postmortem notes mention misconfigured readiness timeout and missing dry-run."},{"role":"user","content":"Any checklist updates?"},{"role":"assistant","content":"Checklist now includes stricter canary health checks before 50 percent traffic."},{"role":"user","content":"Draft a short reply for the team."},{"role":"assistant","content":"I can summarize the root cause and rollback action once you confirm the target audience."}],"labels":{"expectedEvidence":["line 42 in deploy.ts","rollback command ./scripts/rollback.sh","canary health checks"],"expectedLayerMin":"L2","tags":["precise","incident","deploy"]}}
{"id":"billing-overview-l0","platform":"telegram","chatId":null,"query":"Give me a concise overview of the billing migration risks and mitigations.","messages":[{"role":"user","content":"We are migrating invoice processing from v1 to v2 next week."},{"role":"assistant","content":"Main risk is duplicate charge reconciliation across both processors."},{"role":"user","content":"What is our retry policy after transient failures?"},{"role":"assistant","content":"Invoice retry policy is exponential backoff at 1m, 5m, 15m with dead-letter after third retry."},{"role":"user","content":"How are we tracking migration progress?"},{"role":"assistant","content":"We use migration checkpoint C1 for schema, C2 for traffic shadow, and migration checkpoint C3 for full cutover."},{"role":"user","content":"Did we define monitoring for failed payments?"},{"role":"assistant","content":"Yes, alert when failed payment rate exceeds 2 percent for 10 minutes."},{"role":"user","content":"What about customer support playbook?"},{"role":"assistant","content":"Support uses refund workflow and duplicate charge reconciliation checklist before escalation."},{"role":"user","content":"Summarize final risks."},{"role":"assistant","content":"Key risks: duplicate settlements, delayed retries, and stale ledger snapshots."}],"labels":{"expectedEvidence":["invoice retry policy","duplicate charge reconciliation","migration checkpoint C3"],"expectedLayerMin":"L0","tags":["broad","billing"]}}
{"id":"onboarding-structured-l1","platform":"telegram","chatId":null,"query":"Provide an architecture overview of the onboarding flow and module boundaries.","messages":[{"role":"user","content":"We need to document onboarding architecture for new engineers."},{"role":"assistant","content":"Current flow has intake service, policy engine, profile enrichment, and notification orchestrator."},{"role":"user","content":"How does intake service hand off data?"},{"role":"assistant","content":"Intake service writes normalized payloads to onboarding_events topic."},{"role":"user","content":"Where are compliance checks executed?"},{"role":"assistant","content":"Policy engine validates KYC rules and fraud gates before profile enrichment starts."},{"role":"user","content":"What happens after enrichment?"},{"role":"assistant","content":"Notification orchestrator sends welcome sequence and creates CRM tasks."},{"role":"user","content":"Any known weak boundaries?"},{"role":"assistant","content":"Profile enrichment still calls policy utility directly, so module boundary is not fully strict."},{"role":"user","content":"Do we have rollout constraints?"},{"role":"assistant","content":"Yes, rollout is gated by onboarding latency budget and fraud false-positive threshold."},{"role":"user","content":"Please prepare architecture notes."},{"role":"assistant","content":"I can provide a layered architecture overview with interfaces and ownership."}],"labels":{"expectedEvidence":["intake service","policy engine","profile enrichment","notification orchestrator"],"expectedLayerMin":"L1","tags":["structured","architecture"]}}
