{"id":"temp-enter-billing-from-deploy","platform":"telegram","chatId":null,"query":"Summarize invoice retry policy and duplicate charge prevention for billing migration.","messages":[{"role":"user","content":"Deployment canary failed after the second traffic shift."},{"role":"assistant","content":"I logged the rollout failure and captured deploy.ts traces."},{"role":"user","content":"Checklist says we must verify rollback command and health probes."},{"role":"assistant","content":"Rollback command and canary health checks were documented."},{"role":"user","content":"Any update on release gate validation?"},{"role":"assistant","content":"validateReleaseGate in deploy.ts still reports timeout edge cases."}],"labels":{"tags":["temporary-topic","main-to-temp","billing"]},"metadata":{"stateBefore":"MAIN","expectedTransition":"enter-temp","purpose":"query is unrelated to the deployment thread"}}
{"id":"temp-enter-legal-from-onboarding","platform":"telegram","chatId":null,"query":"Extract contract clause obligations and legal risk categories for vendor agreements.","messages":[{"role":"user","content":"We are documenting onboarding modules for new engineers."},{"role":"assistant","content":"Current flow has intake service, policy engine, profile enrichment, and notification orchestration."},{"role":"user","content":"Where are compliance checks executed in onboarding?"},{"role":"assistant","content":"Policy engine validates KYC and fraud gates before profile enrichment starts."},{"role":"user","content":"What are known module boundary issues?"},{"role":"assistant","content":"Profile enrichment still calls policy utility directly, which weakens boundaries."}],"labels":{"tags":["temporary-topic","main-to-temp","legal"]},"metadata":{"stateBefore":"MAIN","expectedTransition":"enter-temp","purpose":"switch from onboarding architecture to legal domain"}}
{"id":"main-stay-deployment-followup","platform":"telegram","chatId":null,"query":"Continue deployment incident analysis and list rollback verification checks.","messages":[{"role":"user","content":"Canary deployment failed after traffic reached fifty percent."},{"role":"assistant","content":"We captured stack trace details from deploy.ts and release gate logs."},{"role":"user","content":"What did we run for mitigation?"},{"role":"assistant","content":"We ran ./scripts/rollback.sh --env prod --slot canary and confirmed rollback."},{"role":"user","content":"What checks were added after incident?"},{"role":"assistant","content":"Checklist now includes stricter canary health checks before expanding traffic."}],"labels":{"expectedEvidence":["rollback.sh --env prod --slot canary","canary health checks"],"tags":["temporary-topic","stay-main","deployment"]},"metadata":{"stateBefore":"MAIN","expectedTransition":"stay-main","purpose":"query remains on the same deployment topic"}}
{"id":"temp-stay-billing-thread","platform":"telegram","chatId":null,"query":"Explain duplicate charge prevention and invoice retry backoff again.","messages":[{"role":"user","content":"For billing migration, what is the retry policy after transient failures?"},{"role":"assistant","content":"Retry uses exponential backoff at one, five, and fifteen minutes with dead-letter after third retry."},{"role":"user","content":"How do we prevent duplicate settlements?"},{"role":"assistant","content":"We use idempotency keys and reconciliation checks before settlement finalization."},{"role":"user","content":"What alert indicates migration risk?"},{"role":"assistant","content":"Alert if failed payment rate exceeds two percent for ten minutes."}],"labels":{"expectedEvidence":["exponential backoff","idempotency keys"],"tags":["temporary-topic","stay-temp","billing"]},"metadata":{"stateBefore":"TEMP","expectedTransition":"stay-temp","frozenMainReference":"assistant: Deployment rollout checklist, rollback command, deploy.ts health checks, and canary status.","purpose":"query remains in temporary billing thread"}}
{"id":"temp-exit-back-to-deploy","platform":"telegram","chatId":null,"query":"Go back to deployment and recap deploy.ts error line and rollback command.","messages":[{"role":"user","content":"For billing migration, what is the retry policy after transient failures?"},{"role":"assistant","content":"Retry uses exponential backoff at one, five, and fifteen minutes with dead-letter after third retry."},{"role":"user","content":"How do we prevent duplicate settlements?"},{"role":"assistant","content":"We use idempotency keys and reconciliation checks before settlement finalization."},{"role":"user","content":"Any unresolved billing tasks?"},{"role":"assistant","content":"Open items include replay safety testing and reconciliation latency tuning."}],"labels":{"tags":["temporary-topic","exit-temp","deployment-return"]},"metadata":{"stateBefore":"TEMP","expectedTransition":"exit-temp","frozenMainReference":"assistant: Deployment rollout checklist, rollback command, deploy.ts health checks, exact error line in deploy.ts, and canary status.","purpose":"return from temporary billing thread to frozen deployment topic"}}
{"id":"temp-replace-to-recruiting","platform":"telegram","chatId":null,"query":"Draft an interview loop and candidate scorecard template for backend hiring.","messages":[{"role":"user","content":"For billing migration, what is the retry policy after transient failures?"},{"role":"assistant","content":"Retry uses exponential backoff at one, five, and fifteen minutes with dead-letter after third retry."},{"role":"user","content":"How do we prevent duplicate settlements?"},{"role":"assistant","content":"We use idempotency keys and reconciliation checks before settlement finalization."},{"role":"user","content":"What alert indicates migration risk?"},{"role":"assistant","content":"Alert if failed payment rate exceeds two percent for ten minutes."}],"labels":{"tags":["temporary-topic","replace-temp","recruiting"]},"metadata":{"stateBefore":"TEMP","expectedTransition":"replace-temp","frozenMainReference":"assistant: Deployment rollback checklist and canary verification steps.","purpose":"query is unrelated to both frozen main and current temporary topic"}}
{"id":"temp-stay-overlap-main-and-temp","platform":"telegram","chatId":null,"query":"Before returning, compare billing retry impact on deployment rollout timeline.","messages":[{"role":"user","content":"For billing migration, what is the retry policy after transient failures?"},{"role":"assistant","content":"Retry uses exponential backoff at one, five, and fifteen minutes with dead-letter after third retry."},{"role":"user","content":"How do we prevent duplicate settlements?"},{"role":"assistant","content":"We use idempotency keys and reconciliation checks before settlement finalization."},{"role":"user","content":"What alert indicates migration risk?"},{"role":"assistant","content":"Alert if failed payment rate exceeds two percent for ten minutes."}],"labels":{"tags":["temporary-topic","stay-temp","mixed-query"]},"metadata":{"stateBefore":"TEMP","expectedTransition":"stay-temp","frozenMainReference":"assistant: Deployment rollout checklist, rollback command, deploy.ts health checks, and canary status.","purpose":"query contains some main-topic words but remains mostly tied to temporary billing thread"}}
{"id":"temp-exit-back-to-infra","platform":"telegram","chatId":null,"query":"Return to infrastructure plan and summarize backup windows plus restore drill outcomes.","messages":[{"role":"user","content":"Please draft user-facing copy guidelines for release notes."},{"role":"assistant","content":"I prepared tone, structure, and readability guidance for release copy."},{"role":"user","content":"Any constraints for social post snippets?"},{"role":"assistant","content":"Keep snippets under one hundred characters and include a single call to action."},{"role":"user","content":"What should be avoided?"},{"role":"assistant","content":"Avoid vague claims and unsupported reliability statements."}],"labels":{"tags":["temporary-topic","exit-temp","infra-return"]},"metadata":{"stateBefore":"TEMP","expectedTransition":"exit-temp","frozenMainReference":"assistant: Infrastructure operations include backup windows, restore verification drills, and maintenance ownership handoff.","purpose":"return from temporary copywriting thread to infrastructure operations topic"}}
{"id":"temp-replace-to-security-audit","platform":"telegram","chatId":null,"query":"Create a security audit checklist for secret rotation and access review.","messages":[{"role":"user","content":"Please draft user-facing copy guidelines for release notes."},{"role":"assistant","content":"I prepared tone, structure, and readability guidance for release copy."},{"role":"user","content":"Any constraints for social post snippets?"},{"role":"assistant","content":"Keep snippets under one hundred characters and include a single call to action."},{"role":"user","content":"What should be avoided?"},{"role":"assistant","content":"Avoid vague claims and unsupported reliability statements."}],"labels":{"tags":["temporary-topic","replace-temp","security"]},"metadata":{"stateBefore":"TEMP","expectedTransition":"replace-temp","frozenMainReference":"assistant: Infrastructure operations include backup windows, restore verification drills, and maintenance ownership handoff.","purpose":"query is unrelated to both frozen infrastructure topic and temporary copywriting topic"}}
{"id":"temp-enter-product-roadmap-from-infra","platform":"telegram","chatId":null,"query":"Outline product roadmap priorities for onboarding growth and trial conversion.","messages":[{"role":"user","content":"Infrastructure ops task: confirm backup windows and restore verification."},{"role":"assistant","content":"Backup integrity and restore drill outcomes are documented for this week."},{"role":"user","content":"Who owns maintenance handoff next sprint?"},{"role":"assistant","content":"Platform team owns maintenance handoff with documented escalation policy."},{"role":"user","content":"Any pending infra risks?"},{"role":"assistant","content":"Main risks are delayed backup replication and missing restore runbook updates."}],"labels":{"tags":["temporary-topic","main-to-temp","product"]},"metadata":{"stateBefore":"MAIN","expectedTransition":"enter-temp","purpose":"switch from infrastructure operations to product roadmap planning"}}
